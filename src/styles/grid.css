/* Grid center key text (headers and row labels) */
.center-key-text {
  font-size: 18px;
  fill: var(--text-normal, #333333);
  font-weight: 400;
  text-transform: uppercase;
}

.radial-timeline-svg #mode-toggle {
  cursor: pointer;
  color: var(--text-normal);
  transition: color 0.2s ease;
}

.radial-timeline-svg #mode-toggle use {
  color: inherit;
  stroke: currentColor;
  fill: none;
}

.radial-timeline-svg #mode-toggle:hover use,
.radial-timeline-svg #mode-toggle.rt-mode-toggle-hover use {
  color: var(--rt-max-publish-stage-color);
  stroke: currentColor;
}

/* Mode indicator text styles */
.radial-timeline-svg .mode-indicator-text {
  font-size: 18px;
  fill: var(--text-normal, #333333);
  font-weight: 400;
  text-transform: uppercase;
  transition: opacity 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94),
    transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  pointer-events: none;
}

/* Mode indicator animation states */
.radial-timeline-svg .mode-indicator-text.mode-indicator-visible {
  opacity: 1;
  transform: translateX(0);
}

.radial-timeline-svg .mode-indicator-text.mode-indicator-hidden-left {
  opacity: 0;
  transform: translateX(-80px);
}

.radial-timeline-svg .mode-indicator-text.mode-indicator-hidden-right {
  opacity: 0;
  transform: translateX(80px);
}

/* Mode indicator hover effects */
.radial-timeline-svg #mode-toggle:hover .mode-indicator-text {
  fill: var(--rt-max-publish-stage-color);
}

/* Hide mode toggle in Gossamer mode */
.radial-timeline-svg[data-gossamer-mode="true"] #mode-toggle {
  display: none;
}

/* Gossamer momentum styling */
.rt-gossamer-layer {
  pointer-events: none;
}

.rt-gossamer-line {
  stroke: var(--rt-max-publish-stage-color);
  /* Use max publish stage color for connecting line */
  stroke-width: var(--rt-gossamer-line-width);
  fill: none;
}

.rt-gossamer-line.rt-gossamer-overlay {
  stroke-width: var(--rt-gossamer-line-historical-width);
  opacity: var(--rt-gossamer-line-historical-opacity);
}

/* Gossamer dots */
.rt-gossamer-dot {
  /* fill color and r (radius) set inline via publish stage color */
  pointer-events: all;
  cursor: pointer;
  stroke: none;
}

.rt-gossamer-dot.rt-gossamer-missing-data {
  fill: var(--rt-gossamer-error-color);
  /* Red for missing data */
}

.rt-gossamer-dot.rt-gossamer-missing-data:hover {
  opacity: 1;
  fill: #ff6666;
}

/* Gossamer1 dots on hover - add white stroke outline */
.rt-gossamer-dot:hover,
.rt-gossamer-dot.rt-hover,
.rt-gossamer-dot-historical.rt-hover {
  stroke: white;
  stroke-width: 3;
}

.rt-gossamer-dot-historical {
  stroke-width: 1px;
}

.rt-gossamer-band {
  /* Band showing min/max spread - color set inline (#f5f5f5) */
  stroke: none;
  pointer-events: none;
  /* Don't interfere with hover on dots/slices */
}

.rt-gossamer-spoke {
  stroke: var(--rt-max-publish-stage-color);
  /* Use publish stage color for spokes */
  stroke-width: var(--rt-gossamer-spoke-width);
  stroke-dasharray: none;
  pointer-events: none;
  /* Spokes don't have their own hover, only respond to dot/slice hover */
  cursor: default;
}

/* Ideal range segment - colored segment showing acceptable range */
.rt-gossamer-ideal-range {
  stroke-width: 6px;
  opacity: 1;
  pointer-events: none;
  cursor: default;
}

/* Range boundary values - numbers showing min/max range values with white stroke */
.rt-gossamer-range-value {
  font-size: 12px;
  text-anchor: middle;
  dominant-baseline: middle;
  pointer-events: none;
  cursor: default;
  font-weight: 600;
  fill: var(--rt-gossamer-historical-color);
  stroke: white;
  stroke-width: 5px;
  paint-order: stroke fill;
}


/* Hide range values when JavaScript adds rt-hidden class on hover */
.rt-gossamer-range-value.rt-hidden {
  opacity: 0.7;
}

/* Score text - interactive numbers showing current beat scores */
.rt-gossamer-score-text {
  font-size: 16px;
  text-anchor: middle;
  dominant-baseline: middle;
  pointer-events: all;
  cursor: pointer;
  font-weight: 600;
  fill: var(--rt-max-publish-stage-color);
  stroke: white;
  stroke-width: 7px;
  paint-order: stroke fill;
}

.rt-gossamer-score-text:hover,
.rt-gossamer-score-text.rt-hover {
  stroke: white;
  stroke-width: 7px;
  font-size: 20px;
}

/* Missing data scores use error color */
.rt-gossamer-score-text.rt-gossamer-missing-data {
  fill: var(--rt-gossamer-error-color);
}

.rt-gossamer-score-text.rt-gossamer-missing-data:hover {
  opacity: 1;
}

.rt-gossamer-range-segment {
  stroke-width: 6px;
  /* Thick segment for range deviation */
  pointer-events: none;
  cursor: default;
}

.rt-gossamer-range-segment.rt-in-range {
  stroke: #00AA00;
  /* Muted green for scores within ideal range */
  opacity: 0.8;
}

.rt-gossamer-range-segment.rt-above-range {
  stroke: #CC00CC;
  /* Magenta for scores above range (exciting/strong start!) */
  opacity: 0.8;
}

.rt-gossamer-range-segment.rt-below-range {
  stroke: #AA0000;
  /* Muted red for scores below ideal range (slow/boring) */
  opacity: 0.8;
}

.rt-gossamer-spoke.rt-gossamer-spoke-hover {
  stroke: white;
  /* Turn white when synchronized with dot/slice hover, override inline styles */
  stroke-width: 2px;
}

.rt-gossamer-grid-spoke {
  stroke: #808080;
  /* Medium gray for month grid spokes - override theme colors */
  stroke-width: 1px;
  stroke-dasharray: 2, 2;
  /* Dotted lines for months */
  opacity: 0.7;
}

.rt-gossamer-grid-spoke.rt-act-boundary {
  stroke: var(--text-normal);
  /* Use theme text color for consistency */
  stroke-width: 2px;
  /* Same thickness as regular timeline act spokes */
  stroke-dasharray: none;
  /* Solid lines for acts */
  opacity: 1;
  /* Fully opaque for prominence */
}

.radial-timeline-svg.scene-hover .rt-gossamer-grid-spoke {
  stroke: #ffffff;
  opacity: 0.35;
}

/* Gossamer hover: softly mute non-hovered elements to reduce distraction */
.radial-timeline-svg.gossamer-hover .rt-gossamer-line:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-overlay:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-band:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-spoke:not(.rt-gossamer-spoke-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-beat-outline:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-range-segment:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-ideal-range:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-dot:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-dot-center:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-dot-historical:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-score-text:not(.rt-hover),
.radial-timeline-svg.gossamer-hover .rt-gossamer-range-value:not(.rt-hidden) {
  opacity: 0.3;
}
.radial-timeline-svg[data-shift-mode="active"] .rt-gossamer-grid-spoke.rt-act-boundary {
  stroke: rgba(255, 255, 255, 0.3);
  opacity: 0.25;
}

.radial-timeline-svg[data-shift-mode="alien"] .rt-gossamer-grid-spoke.rt-act-boundary {
  stroke: rgba(200, 50, 50, 0.8);
  opacity: 0.7;
}

/* Story beat slices in all modes (except Gossamer) - base state with gray fill */
.rt-scene-group.beats .rt-scene-path,
.rt-scene-group[data-item-type="Beat"] .rt-scene-path {
  fill: #f5f5f5;
  /* Subtle gray shade for beat slices in normal state */
}

/* Story beat slices in Gossamer mode - base state */
.radial-timeline-svg[data-gossamer-mode="true"] .rt-scene-group.beats .rt-scene-path,
.radial-timeline-svg[data-gossamer-mode="true"] .rt-scene-group[data-item-type="Beat"] .rt-scene-path {
  cursor: pointer;
  stroke: none;
  pointer-events: fill;
}

/* Story beat slices in Gossamer mode - hover state (same pattern as score text) */
.radial-timeline-svg[data-gossamer-mode="true"] .rt-scene-group.beats .rt-scene-path:hover,
.radial-timeline-svg[data-gossamer-mode="true"] .rt-scene-group[data-item-type="Beat"] .rt-scene-path:hover,
.radial-timeline-svg[data-gossamer-mode="true"] .rt-scene-group.rt-gossamer-hover .rt-scene-path {
  fill: white;
  stroke: white;
  stroke-width: 3px;
  opacity: 1;
}

/* Non-beat slices in Gossamer mode - not interactive */
.radial-timeline-svg[data-gossamer-mode="true"] .rt-scene-group:not(.beats):not([data-item-type="Beat"]) .rt-scene-path {
  cursor: default;
  pointer-events: none;
}

/* Beat slice outlines in gossamer layer - purely visual, not interactive */
.rt-gossamer-beat-outline {
  stroke: var(--rt-max-publish-stage-color);
  /* Use publish stage color for beat outlines */
  stroke-width: 2px;
  fill: none;
  pointer-events: none;
  /* Not interactive - fill area handles all hover/click */
  cursor: default;
}

/* status header hover effect */
.status-header-letter {
  transition: transform 120ms ease, fill 120ms ease, text-decoration-color 120ms ease;
  text-decoration: none;
}

.status-header:hover .status-header-letter {
  transform: scale(1.05);
  fill: var(--rt-color-empty);
  text-decoration: underline;
}

/* count inside any grid cell (bottom-right) */
.radial-timeline-container .grid-cell-count {
  fill: #000000;
  font-size: 14px;
  pointer-events: none;
}

/* icon color for Completed grid cells */
.radial-timeline-container .completed-icon {
  color: #000000;
}

/* stage header hover effect */
.stage-header-letter {
  transition: transform 120ms ease, fill 120ms ease, text-decoration-color 120ms ease;
  text-decoration: none;
}

.stage-header:hover .stage-header-letter {
  transform: scale(1.07);
  fill: var(--rt-color-empty);
  text-decoration: underline;
}

/* Grid arrows - direction indicators for stage progression */
.rt-grid-arrow {
  color: var(--text-muted, #666666);
}

/* Completed stage arrows use publish stage colors */
.rt-grid-arrow.rt-grid-arrow-complete[data-stage="zero"] {
  color: var(--rt-color-zero);
}

.rt-grid-arrow.rt-grid-arrow-complete[data-stage="author"] {
  color: var(--rt-color-author);
}

.rt-grid-arrow.rt-grid-arrow-complete[data-stage="house"] {
  color: var(--rt-color-house);
}

.rt-grid-arrow.rt-grid-arrow-complete[data-stage="press"] {
  color: var(--rt-color-press);
}